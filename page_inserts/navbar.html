<!-- /page_inserts/navbar.html -->
<nav id="appNav" class="sticky top-0 z-40">
  <div class="bg-gradient-to-r from-[#0b1a2a] via-[#0f2742] to-[#0b1a2a] text-white">
    <div class="max-w-6xl mx-auto px-4">
      <!-- Row -->
      <div class="h-14 flex items-center justify-between">
        <!-- Left: Brand + Back + Desktop links -->
        <div class="flex items-center gap-3 sm:gap-4">
          <!-- Brand -->
          <a href="/index.html" class="flex items-center gap-3">
            <div class="h-8 w-8 rounded-b-2xl rounded-t-sm bg-white/10 grid place-items-center font-semibold">
              JM
            </div>
            <span class="text-[17px] font-semibold tracking-tight">Justice McNeal LLC</span>
          </a>

          <!-- Back chevron (hidden on home by navbar.js) -->
          <button id="navBack"
                  class="hidden md:inline-flex items-center justify-center h-8 w-8 rounded-full hover:bg-white/10 transition"
                  title="Back" aria-label="Back">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"/>
            </svg>
          </button>

          <!-- Desktop links -->
          <div class="hidden md:flex items-center gap-1 sm:gap-2">
            <a href="/pages/account.html"     class="nav-link">Account</a>
            <a href="/pages/contribute.html"  class="nav-link">Contribute</a>
            <a href="/pages/history.html"     class="nav-link">History</a>
            <a id="adminNav" href="/pages/admin.html" class="nav-link hidden">Admin</a>
          </div>
        </div>

        <!-- Right: avatar + mobile toggle -->
        <div class="flex items-center gap-2">
          <!-- Avatar / dropdown -->
          <div class="relative">
            <button id="avatarBtn"
                    class="inline-flex h-9 w-9 items-center justify-center rounded-full bg-white/90 text-[#0b1a2a] font-semibold shadow ring-1 ring-black/5 hover:shadow-md transition"
                    aria-haspopup="menu" aria-expanded="false" title="Account">
              <!-- initials inserted by JS -->
            </button>

            <div id="profileMenu"
                 class="absolute right-0 mt-2 w-56 overflow-hidden rounded-xl bg-white text-slate-900 shadow-xl ring-1 ring-slate-900/10 hidden">
              <div class="px-3 py-2 border-b border-slate-200">
                <div id="pmName"  class="text-sm font-medium truncate">—</div>
                <div id="pmEmail" class="text-xs text-slate-600 truncate">—</div>
              </div>
              <div class="p-2">
                <a href="/pages/account.html"
                   class="block rounded-lg px-3 py-2 text-sm hover:bg-slate-100">Account</a>
                <button id="btnSignOut"
                        class="mt-1 w-full text-left rounded-lg px-3 py-2 text-sm hover:bg-rose-50 hover:text-rose-700">
                  Sign out
                </button>
              </div>
            </div>
          </div>

          <!-- Mobile menu toggle -->
          <button id="mobileMenuBtn"
                  class="md:hidden inline-flex items-center justify-center p-2 rounded-md hover:bg-white/10 transition"
                  aria-expanded="false" aria-controls="mobileMenu" aria-label="Open menu">
            <svg id="mobileMenuIcon" class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M4 6h16M4 12h16M4 18h16"/>
            </svg>
          </button>
        </div>
      </div>

      <!-- Mobile panel -->
      <div id="mobileMenu" class="md:hidden hidden pb-3">
        <a href="/pages/account.html"     class="mnav-link">Account</a>
        <a href="/pages/contribute.html"  class="mnav-link">Contribute</a>
        <a href="/pages/history.html"     class="mnav-link">History</a>
        <a id="adminNavMobile" href="/pages/admin.html" class="mnav-link hidden">Admin</a>
      </div>
    </div>
  </div>

  <!-- Active/hover helpers (kept for navbar.js compatibility) -->
  <style>
    .nav-link {
      position: relative;
      padding: .375rem .625rem;
      border-radius: .5rem;
      color: rgba(255,255,255,.85);
      transition: background-color .12s ease, color .12s ease;
    }
    .nav-link:hover { color: #fff; background: rgba(255,255,255,.10); }
    .nav-link.active { color:#fff; background: rgba(255,255,255,.18); }
    .mnav-link {
      display:block; padding:.625rem .5rem; margin-top:.25rem;
      border-radius:.5rem; color:rgba(255,255,255,.95);
    }
    .mnav-link:hover { background: rgba(255,255,255,.10); }
  </style>
</nav>

<!-- Behavior -->
<script type="module" src="/js/shared/navbar.js"></script>
